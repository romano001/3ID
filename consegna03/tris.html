<html>
    
    <head>
        <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.3.1.min.js"></script>
        <script>
            let gioco={c1:0,c2:0,c3:0,c4:0,c5:0,c6:0,c7:0,c8:0,c9:0};
            let posizione=1;
            let posizioneCPU;
            let ContaCaselle=0;
            function HaiVinto()//funzione hai vinto rileva il vincitore 
            {
                if(gioco.c1==gioco.c2&&gioco.c2==gioco.c3&&gioco.c3==gioco.c1&&gioco.c1!=0)
                {
                    if(gioco.c1 == 1)
                    {
                        alert("HAI VINTO");
                    }
                    else 
                    {
                        alert("HAI PERSO");
                    }
                    reset()
                }
                else if(gioco.c4==gioco.c5&&gioco.c5==gioco.c6&&gioco.c6==gioco.c4&&gioco.c4!=0)
                {
                    if(gioco.c4 == 1)
                    {
                        alert("HAI VINTO");
                    }
                    else 
                    {
                        alert("HAI PERSO");
                    }
                    reset()
                }
                else if(gioco.c7==gioco.c8&&gioco.c8==gioco.c9&&gioco.c9==gioco.c7&&gioco.c7!=0)
                {
                    if(gioco.c7 == 1)
                {
                    alert("HAI VINTO");
                }
                else 
                {
                    alert("HAI PERSO");
                }
                reset()
                }
                else if(gioco.c1==gioco.c4&&gioco.c4==gioco.c7&&gioco.c7==gioco.c1&&gioco.c1!=0)
                {
                    if(gioco.c1 == 1)
                    {
                        alert("HAI VINTO");
                    }
                    else 
                    {
                        alert("HAI PERSO");
                    }
                    reset()
                }
                else if(gioco.c2==gioco.c5&&gioco.c5==gioco.c8&&gioco.c8==gioco.c2&&gioco.c2!=0)
                {
                    if(gioco.c2 == 1)
                    {
                        alert("HAI VINTO");
                    }
                    else 
                    {
                        alert("HAI PERSO");
                    }
                    reset()
                }
                else if(gioco.c3==gioco.c6&&gioco.c6==gioco.c9&&gioco.c9==gioco.c3&&gioco.c3!=0)
                {
                    if(gioco.c3 == 1)
                    {
                        alert("HAI VINTO");
                    }
                    else 
                    {
                        alert("HAI PERSO");
                    }
                    reset()
                }
                else if(gioco.c1==gioco.c5&&gioco.c5==gioco.c9&&gioco.c9==gioco.c1&&gioco.c1!=0)
                {
                    if(gioco.c1 == 1)
                    {
                        alert("HAI VINTO");
                    }
                    else 
                    {
                        alert("HAI PERSO");
                    }
                    reset()
                }
                else if(gioco.c3==gioco.c5&&gioco.c5==gioco.c7&&gioco.c7==gioco.c3&&gioco.c3!=0)
                {
                    if(gioco.c3 == 1)
                    {
                        alert("HAI VINTO");
                    }
                    else 
                    {
                        alert("HAI PERSO");
                    }
                    reset()
                }
                else if(gioco.c1!=0&&gioco.c2!=0&&gioco.c3!=0&&gioco.c4!=0&&gioco.c5!=0&&gioco.c6!=0&&gioco.c7!=0&&gioco.c8!=0&&gioco.c9!=0)
                {
                    alert("Pareggio");
                    reset();
                }
            }
            function MossaComputer()//posiziona in modo random il cerchio da posizionare
            {
                if(ContaCaselle!=9){
                    while(true)
                    {
                        posizioneCPU=Math.floor((Math.random()*9)+1);
                        if(posizioneCPU==1)
                        {
                            if(gioco.c1==0){
                                document.getElementById("img1").src="o.jpg";
                                gioco.c1=2;
                                posizione=1;
                                break;
                            }
                        }
                        if(posizioneCPU==2)
                        {
                            if(gioco.c2==0){
                                document.getElementById("img2").src="o.jpg";
                                gioco.c2=2;
                                posizione=1;
                                break;
                            }
                        }
                        if(posizioneCPU==3)
                        {
                            if(gioco.c3==0){
                                document.getElementById("img3").src="o.jpg";
                                gioco.c3=2;
                                posizione=1;
                                break;
                            }
                        }
                        if(posizioneCPU==4)
                        {
                            if(gioco.c4==0){
                                document.getElementById("img4").src="o.jpg";
                                gioco.c4=2;
                                posizione=1;
                                break;
                            }
                        }
                        if(posizioneCPU==5)
                        {
                            if(gioco.c5==0){
                                document.getElementById("img5").src="o.jpg";
                                gioco.c5=2;
                                posizione=1;
                                break;
                            }
                        }
                        if(posizioneCPU==6)
                        {
                            if(gioco.c6==0){
                                document.getElementById("img6").src="o.jpg";
                                gioco.c6=2;
                                posizione=1;
                                break;
                            }
                        }
                        if(posizioneCPU==7)
                        {
                            if(gioco.c7==0){
                                document.getElementById("img7").src="o.jpg";
                                gioco.c7=2;
                                posizione=1;
                                break;
                            }
                        }
                        if(posizioneCPU==8)
                        {
                            if(gioco.c8==0){
                                document.getElementById("img8").src="o.jpg";
                                gioco.c8=2;
                                posizione=1;
                                break;
                            }
                        }
                        if(posizioneCPU==9)
                        {
                            if(gioco.c9==0){
                                document.getElementById("img9").src="o.jpg";
                                gioco.c9=2;
                                posizione=1;
                                break;
                            }
                        }
                    }
                }
            }
            
            function reset()//resetta le caselle 
            {
                posizione = 1;
                gioco.c1=0;
                document.getElementById("img1").src = "vuoto.jpg" ;
                gioco.c2=0;
                document.getElementById("img2").src = "vuoto.jpg" ;
                gioco.c3=0;
                document.getElementById("img3").src = "vuoto.jpg" ;
                gioco.c4=0;
                document.getElementById("img4").src = "vuoto.jpg" ;
                gioco.c5=0;
                document.getElementById("img5").src = "vuoto.jpg" ;
                gioco.c6=0;
                document.getElementById("img6").src = "vuoto.jpg" ;
                gioco.c7=0;
                document.getElementById("img7").src = "vuoto.jpg" ;
                gioco.c8=0;
                document.getElementById("img8").src = "vuoto.jpg" ;
                gioco.c9=0;
                document.getElementById("img9").src = "vuoto.jpg" ;
                ContaCaselle = 0;
            }
            $(document).ready(function(){
                $("#img1").click(function(){
                    if(gioco.c1==0){
                        if(posizione==1){
                            document.getElementById("img1").src="x.jpg";
                            gioco.c1=posizione;
                            posizione=2;
                            ContaCaselle++;
                        }
                        MossaComputer();
                        ContaCaselle++;
                        HaiVinto();
                    }
                })
                $("#img2").click(function(){
                    if(gioco.c2==0){
                        if(posizione==1){
                            document.getElementById("img2").src="x.jpg";
                            gioco.c2=posizione;
                            posizione=2;
                            ContaCaselle++;
                        }
                        MossaComputer();
                        ContaCaselle++;
                        HaiVinto();
                    }
                })
                $("#img3").click(function(){
                    if(gioco.c3==0){
                        if(posizione==1){
                            document.getElementById("img3").src="x.jpg";
                            gioco.c3=posizione;
                            posizione=2;
                            ContaCaselle++;
                        }
                        MossaComputer();
                        ContaCaselle++;
                        HaiVinto();
                    }
                })
                $("#img4").click(function(){
                    if(gioco.c4==0){
                        if(posizione==1){
                            document.getElementById("img4").src="x.jpg";
                            gioco.c4=posizione;
                            posizione=2;
                            ContaCaselle++;
                        }
                        MossaComputer();
                        ContaCaselle++;
                        HaiVinto();
                    }
                })
                $("#img5").click(function(){
                    if(gioco.c5==0){
                        if(posizione==1){
                            document.getElementById("img5").src="x.jpg";
                            gioco.c5=posizione;
                            posizione=2;
                            ContaCaselle++;
                        }
                        MossaComputer();
                        ContaCaselle++;
                        HaiVinto();
                    }
                })
                $("#img6").click(function(){
                    if(gioco.c5==0){
                        if(posizione==1){
                            document.getElementById("img6").src="x.jpg";
                            gioco.c6=posizione;
                            posizione=2;
                            ContaCaselle++;
                        }
                        MossaComputer();
                        ContaCaselle++;
                        HaiVinto();
                    }
                })
                $("#img7").click(function(){
                    if(gioco.c7==0){
                        if(posizione==1){
                            document.getElementById("img7").src="x.jpg";
                            gioco.c7=posizione;
                            posizione=2;
                            ContaCaselle++;
                        }
                        MossaComputer();
                        ContaCaselle++;
                        HaiVinto();
                    }
                })
                $("#img8").click(function(){
                    if(gioco.c8==0){
                        if(posizione==1){
                            document.getElementById("img8").src="x.jpg";
                            gioco.c8=posizione;
                            posizione=2;
                            ContaCaselle++;
                        }
                        MossaComputer();
                        ContaCaselle++;
                        HaiVinto();
                    }
                })
                $("#img9").click(function(){
                    if(gioco.c9==0){
                        if(posizione==1){
                            document.getElementById("img9").src="x.jpg";
                            gioco.c9=posizione;
                            posizione=2;
                            ContaCaselle++;
                        }
                        MossaComputer();
                        ContaCaselle++;
                        HaiVinto();
                    }
                })

            })
        </script>
        <style>
            header{
                text-align: center;
                color: white;
            }
            body{
                background-color: black ;

            }
            div {
                margin-top: 50px;
                margin-left: 425;
            }
          
        </style>

    </head>
    <body>
        <header ><h1>TIC TAC TOE by Rallo Barnaba</h1></header>
        <div>
        <img id="img1" src="vuoto.jpg">
        <img id="img2" src="vuoto.jpg">
        <img id="img3" src="vuoto.jpg"><br>
        <img id="img4" src="vuoto.jpg">
        <img id="img5" src="vuoto.jpg">
        <img id="img6" src="vuoto.jpg"><br>
        <img id="img7" src="vuoto.jpg">
        <img id="img8" src="vuoto.jpg">
        <img id="img9" src="vuoto.jpg">
        </div>
    </body>
</html>